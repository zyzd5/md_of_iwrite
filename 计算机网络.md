## 概念 -- 感觉都挺扯, 想删就删了
* 计算机网络是`互连`的, `自治`的计算机集合
    * `互连` - 通过通信链路互联互通
    * `自治` - 无主从关系 
* 计算机网络的功能
    1. 数据通信
    2. 资源共享
    3. 分布式处理
    4. 提高可靠性
    5. 负载均衡
## 计算机网络的发展
### 第一阶段
* `ARPAnet` -- 美国国防部高级研究计划局(ARPA)设计一个分散的指挥系统 
    * `ARPAnet` 的下一代是 `Internet`

* `internet` -- (interconnected network)互联网
    * 1983年阿帕网接受 TCP/IP 选定 Internet 为设计的计算机通信系统
### 第二阶段 - 三级结构
* `NSFNET` -- 1985年起, 美国国家科学基金会 NSF 围绕6个大型计算机中心建设计算机网络, 即国家科学基金网 `NSFNET`  
![国家科学基金网](./pictures/NSFNET.png)
### 第三阶段 - 多层次ISP结构
* `ISP` -- 因特网服务提供者 / 因特网服务提供商, 是一个向广大用户综合提供互联网接入业务, 服务业务和增值业务的公司, 如中国电信, 中国联通, 中国移动等, 分为主干ISP, 地区ISP和本地ISP
## 计算机网络的构成
* 工作方式
    * 边缘部分 用户直接使用
        * C/S方式 -- Client/Server
        * P2P方式 -- peer-to-peer
    * 核心部分 为边缘部分服务

* 功能组成
    * 通信子网 -- 实现数据通信
    * 资源子网 -- 实现资源共享 / 数据处理
 
* 资源子网 -> 应用层 
* 资源子网 -> 表示层
* 资源子网 -> 会话层
>意思是这三项为资源子网, 下面的通信子网也同理

* 传输层

* 通信子网 -- 网络层 -- 路由器
* 通信子网 -- 数据链路层 -- 交换机, 网桥
* 通信子网 -- 物理层 -- 集线器, 中继器
## 计算机网络的分类
* 按分布范围 -- `广域网WAN`, `城域网MAN`, `局域网LAN`, `个人区域网PAN`
    * 区分`广域网`和`局域网`
        * `广域网`使用交换技术
        * `局域网`使用广播技术

* 按使用者
    * 公用网
    * 专用网

* 按交换技术
    * 电路交换 -- 只能等别人使用完, 才能下一个人使用
    * 报文交换 -- 一次性传输一段报文
    * 分组交换 -- 分组传输报文的一部分, 多组传

* 按拓扑结构分
    * 总线型
    * 星型
    * 环形
    * 网状型

* 按传输技术分
    * 广播式网络 -- 共享公共通信信道
    * 点对点网络 -- 使用分组存储转发和路由选择机制
## 性能指标
### 速率
* 连接在计算机网络上的主机在数字信道上传输数据位数的速率
* 单位是 b/s, kb/s, Mb/s, Gb/s, Tb/s
### 带宽 (真会, 不重要)
### 吞吐量(真会, 不重要)
* 表示在单位时间内通过某个网络(或信道, 接口)的数据量
* 吞吐量受网络的带宽或网络的额定速率的限制
### 时延
* 指数据(报文, 分组, 比特流)从网络(或链路)的一端传送到另一端所需的时间, 也叫延迟或迟延, 单位是s

* 分为四种
    * 发送时延(传输时延) -- 从发送分组的第一个比特算起, 到该分组的最后一个比特发送完毕所需的时间
    > $发送时延 = {{数据长度} \over {信道带宽(发送速率)}}$

    * 传播时延 -- 取决于电磁波传输速度和链路长度
    > $传播时延 = {{信道长度} \over {电磁波在信道上的传播速率}}$
    
    * 排队时延 -- 等待输出 / 入链路可用

    * 处理时延 -- 检错找出口
#### 要注意的
* 高速链路 -- 仅影响发送时延, 数据被推送到链路上的速度加快, 不会影响其他时延
### 时延带宽积
* 描述此时信道中有多少比特

>时延带宽积 = 传播时延 * 带宽 
### 往返时延RTT
* 从发送数据开始, 到发送方收到接收方的确认(立即确认)共经历的时延 

* RTT越大, 在收到确认之前, 可以发送的数据越多

* RTT包括
    * 往返传播时延 = 传播时延 * 2
    * 末端处理时间 
### 利用率
* 包括
    * 信道利用率
    >$信道利用率 = {{有数据通过时间} \over {(有+无)数据通过时间}}$
    * 网络利用率
    >$网络利用率 = 信道利用率加权平均值$
## 分层结构
* 实体 -- 第n层中的活动元素称为n层实体, 同一层的实体叫对等实体

* 协议 -- 为进行网络中的对等实体数据交换而建立的规则, 标准, 或约定称为网络协议(水平方向上) 

    * 语法 -- 规定传输数据的格式
    * 语义 -- 规定所要完成的功能
    * 同步 -- 规定各种操作的顺序

* 接口(访问服务点SAP(Service Access Point)) -- 上层使用下层服务的接口

* 服务 -- 下层为相邻上层提供的功能调用
    
    * SDU 服务数据单元 -- 为完成用户所要求的功能而应传送的数据
    * PCI 协议控制信息 -- 控制协议操作的信息 
    * PDU 协议数据单元 -- 对等层次之间传送的数据单位

    * PCI + SDU = PDU

![分层结构](./pictures/分层结构.png)
## OSI(法定标准)
* OSI(Open System Interconnect)
    * 理论成功, 市场失败

|七层||
|-|-|
|应用层|7|
|表示层|6|
|会话层|5|
|传输层|4|
|网络层|3|
|数据链路层|2|
|物理层|1|

>* 上面四层是端到端的通信, 下面四层是点到点的通信

* data数据从应用层开始打包, 每层打包后一直到`物理层`会传输到其他设备, 其他设备接收到数据后再层层解包为原始data数据

* 应用层 -- 所有能和用户交互产生网络流量的程序
    * 文件传输(FTP)(File Transfer Protocol)  
    * 电子邮件(SMTP)(Simple Mail Transfer Protocol)  
    * 万维网(HTTP)  

* 表示层 -- 用于处理两个通信系统中交换信息的表示方式
    * 数据格式变换 -- ...010101010... -> ${一张图片}
    * 数据加密解密
    * 数据压缩恢复

* 会话层 -- 向表示层 实体/用户 进程提供`建立连接`并在连接上有序地传输数据
    * 建立, 管理, 终止会话
    * 使用校验点使会话在通信失效时从 校验点/同步点继续恢复通信, 实现数据同步
        * 适用于传输大文件

* 传输层 -- 负责主机中两个进程的通信, 即端到端的通信, 传输单位是报文或用户数据报
    * 可靠传输, 不可靠传输 -- 区别有确认机制和需不需要提前建立连接
    * 差错控制 -- 纠错数据
    * 流量控制 -- 控制流量流速
    * 复用分用 
        * 在复用的情况下，多个应用程序的数据可以一起发送，通过不同的端口号来区分每个应用程序的数据流
        * 分用的情况下，一次只会发送一个应用程序的数据，然后根据端口号来将接收到的数据分发给正确的应用程序 

* 网络层 -- 把分组从源端传输到目的端, 为分组交换网上的不同主机提供通信服务
    * 网络层传输单位是`数据报`
    
    * 路由选择
    * 流量控制
    * 差错控制 -- 纠错
    * 拥塞控制 -- 若所有节点都来不及接收分组, 而要丢弃大量分组的话, 网络就处于拥塞状态, 因此要采取一定措施, 缓解这种拥塞
* 数据链路层 -- 主要任务是把网络层传下的数据报组装成`帧`
    * 数据链路层/链路层的传输单位是`帧`
    
    * 成帧 (定义帧的开始和结束) 
    * 差错控制 (帧错+位错)
    * 流量控制
    * 访问(接入控制) `控制对信道的访问`

* 物理层 -- 在`物理媒体`上实现比特流的`透明传输`, 传输单位是`比特`
    * 透明传输 -- 不管数据是什么比特组合, 都应当能在链路上传输
    比特信号 -> 模拟信号

    * 定义接口特性
    * 定义传输模式 
        * 单工 -- 只能单向传输  
        * 半双工 -- 两边都可以作为发送方, 但是同一时间只能有一方传输
        * 双工 -- 可以双向同时说话
    * 定义传输速率
    * 比特同步
    * 比特编码
# 该看1.2_4了